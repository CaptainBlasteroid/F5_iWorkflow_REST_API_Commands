{
	"id": "823f3d9c-1dd1-a495-df1c-0804bb90e247",
	"name": "F5 iWorkflow iControl.REST API - Add a BIG-IP device to iWorkflow",
	"description": "",
	"order": [],
	"folders": [
		{
			"id": "bf0f55cd-28d0-7cad-7c89-5032acc9a6a2",
			"name": "1) Get Auth Token & Set Timeout",
			"description": "",
			"order": [
				"530442ab-3e2f-5ded-2a9c-874d03c28534",
				"0687b39b-0f54-260e-0bcb-1e1c6822bff4",
				"fc9ca293-8de1-8397-580c-593f548c8f82"
			],
			"owner": "720937",
			"collectionId": "823f3d9c-1dd1-a495-df1c-0804bb90e247"
		},
		{
			"id": "eca6992a-2355-3b1e-ccf6-5a98901875b3",
			"name": "2) Add BIG-IP device to iWorkflow",
			"description": "",
			"order": [
				"a7306bf5-6259-860f-6fef-09be215a1c47",
				"f2c3eb8e-293d-1992-02ec-6fdeb803dc9d",
				"80f40a23-3190-27b8-5ae6-30d8ef337d21"
			],
			"owner": "720937",
			"collectionId": "823f3d9c-1dd1-a495-df1c-0804bb90e247"
		},
		{
			"id": "d8b9a1ff-d6e9-571d-1a58-db2aeb0eab88",
			"name": "Add BIG-IP device to Tenant Local (BIG-IP) Connector",
			"description": "",
			"order": [
				"7988096a-1ed4-53da-80ba-135442161ad8",
				"e4760e06-a3b1-0b3c-0a6b-8c2f89046c2a"
			],
			"owner": "720937",
			"collectionId": "823f3d9c-1dd1-a495-df1c-0804bb90e247"
		}
	],
	"timestamp": 1468525318968,
	"owner": "720937",
	"remoteLink": "https://www.getpostman.com/collections/42d10019f055f31a2993",
	"public": false,
	"published": false,
	"requests": [
		{
			"id": "0687b39b-0f54-260e-0bcb-1e1c6822bff4",
			"headers": "X-F5-Auth-Token: {{iWorkflow_Auth_Token}}\nContent-Type: application/json\n",
			"url": "https://{{iWorkflow_Mgmt_IP}}/mgmt/shared/authz/tokens/{{iWorkflow_Auth_Token}}",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "PATCH",
			"data": [],
			"dataMode": "raw",
			"tests": "tests[\"Status code is 200\"] = responseCode.code === 200;\n\nvar respData = JSON.parse(responseBody);\ntests[\"Auth Token timeout is: \" +respData.timeout] = respData.timeout;\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1468524134460,
			"name": "Increase Auth Token Timeout",
			"description": "",
			"collectionId": "823f3d9c-1dd1-a495-df1c-0804bb90e247",
			"responses": [],
			"folder": "bf0f55cd-28d0-7cad-7c89-5032acc9a6a2",
			"rawModeData": "{\n    \"timeout\":\"36000\"\n}"
		},
		{
			"id": "530442ab-3e2f-5ded-2a9c-874d03c28534",
			"headers": "Authorization: Basic YWRtaW46YWRtaW4=\nContent-Type: application/json\n",
			"url": "https://{{iWorkflow_Mgmt_IP}}/mgmt/shared/authn/login",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"tests": "var respData = JSON.parse(responseBody);\n\ntests[\"response has token: \" +respData.token.token] = respData.token.token;\n\npostman.setEnvironmentVariable('iWorkflow_Auth_Token',respData.token.token);\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1468523981010,
			"name": "Request a Token from iWorkflow ",
			"description": "Using Basic Auth, request a token from the iWorkflow platform.",
			"collectionId": "823f3d9c-1dd1-a495-df1c-0804bb90e247",
			"responses": [],
			"folder": "bf0f55cd-28d0-7cad-7c89-5032acc9a6a2",
			"rawModeData": "{\n  \"username\": \"admin\",\n  \"password\": \"admin\",\n  \"loginProvidername\": \"tmos\"\n}"
		},
		{
			"id": "7988096a-1ed4-53da-80ba-135442161ad8",
			"headers": "X-F5-Auth-Token: {{iWorkflow_Auth_Token}}\n",
			"url": "https://{{iWorkflow_Mgmt_IP}}/mgmt/cm/cloud/connectors/local/",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "GET",
			"data": null,
			"dataMode": "params",
			"version": 2,
			"tests": "var respData = JSON.parse(responseBody);\nvar count = respData.items.length;\n\n// if there are more than zero Local(BIG-IP) connectors\nif (count != 0) {\n    // for each connector, create Postman env var. Store Connector displayName in the var name and the connectorID as the value.\n    for (var i = 0; i < count; i++) {\n        postman.setEnvironmentVariable('iWorkflow_Local(BIG-IP)_Connector'+i + ' - ' +respData.items[i].displayName,respData.items[i].connectorId);\n    };\n};",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1468553765150,
			"name": "List the Local (BIG-IP) Connectors",
			"description": "",
			"collectionId": "823f3d9c-1dd1-a495-df1c-0804bb90e247",
			"responses": []
		},
		{
			"id": "80f40a23-3190-27b8-5ae6-30d8ef337d21",
			"headers": "X-F5-Auth-Token: {{iWorkflow_Auth_Token}}\n",
			"url": "https://{{iWorkflow_Mgmt_IP}}/mgmt/shared/resolver/device-groups/cm-cloud-managed-devices/devices",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "GET",
			"data": null,
			"dataMode": "params",
			"version": 2,
			"tests": null,
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1468543422436,
			"name": "List devices again",
			"description": "",
			"collectionId": "823f3d9c-1dd1-a495-df1c-0804bb90e247",
			"responses": []
		},
		{
			"id": "a7306bf5-6259-860f-6fef-09be215a1c47",
			"headers": "X-F5-Auth-Token: {{iWorkflow_Auth_Token}}\n",
			"url": "https://{{iWorkflow_Mgmt_IP}}/mgmt/shared/resolver/device-groups/cm-cloud-managed-devices/devices",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "GET",
			"data": null,
			"dataMode": "params",
			"version": 2,
			"tests": "",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1468527532687,
			"name": "List Devices",
			"description": "",
			"collectionId": "823f3d9c-1dd1-a495-df1c-0804bb90e247",
			"responses": []
		},
		{
			"id": "e4760e06-a3b1-0b3c-0a6b-8c2f89046c2a",
			"headers": "X-F5-Auth-Token: {{iWorkflow_Auth_Token}}\n",
			"url": "https://{{iWorkflow_Mgmt_IP}}/mgmt/cm/cloud/connectors/local/{connectorId}/nodes",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "GET",
			"data": null,
			"dataMode": "params",
			"version": 2,
			"tests": null,
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1468610772296,
			"name": "Add the newly discovered BIG-IP to a Local connector",
			"description": "",
			"collectionId": "823f3d9c-1dd1-a495-df1c-0804bb90e247",
			"responses": []
		},
		{
			"id": "f2c3eb8e-293d-1992-02ec-6fdeb803dc9d",
			"headers": "X-F5-Auth-Token: {{iWorkflow_Auth_Token}}\nContent-Type: application/json\n",
			"url": "https://{{iWorkflow_Mgmt_IP}}/mgmt/shared/resolver/device-groups/cm-cloud-managed-devices/devices/example",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": null,
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1468549362704,
			"name": "Add a BIG-IP device",
			"description": "",
			"collectionId": "823f3d9c-1dd1-a495-df1c-0804bb90e247",
			"responses": [],
			"rawModeData": "{\n  \"address\" = \"\",\n  \"userName\" = \"\",\n  \"password\" = \"\",\n  \"automaticallyUpdateFramework\" = true\n}"
		},
		{
			"id": "fc9ca293-8de1-8397-580c-593f548c8f82",
			"headers": "X-F5-Auth-Token: {{iWorkflow_Auth_Token}}\nContent-Type: application/json\n",
			"url": "https://{{iWorkflow_Mgmt_IP}}/mgmt/shared/authz/tokens/{{iWorkflow_Auth_Token}}",
			"preRequestScript": null,
			"pathVariables": {},
			"method": "GET",
			"data": [],
			"dataMode": "raw",
			"tests": "var respData = JSON.parse(responseBody);\n\ntests[\"Token Expiration: \" +respData.expirationMicros] = respData.expirationMicros;\n\n//postman.setEnvironmentVariable('iWorkflow_Auth_Token',respData.token.token);\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1468550506181,
			"name": "Is Token Valid?",
			"description": "Use expirationMicros to determine if token is still valid.",
			"collectionId": "823f3d9c-1dd1-a495-df1c-0804bb90e247",
			"responses": [],
			"rawModeData": "{\n  \"username\": \"admin\",\n  \"password\": \"admin\",\n  \"loginProvidername\": \"tmos\"\n}"
		}
	]
}
